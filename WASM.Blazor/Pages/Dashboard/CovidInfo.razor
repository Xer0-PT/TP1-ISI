@page "/covid-info"
@using WASM.Blazor.Components
@using TP1.Domain.Models.DTO

<MudContainer Class="mt-16">
    <MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">Updated numbers of covid pandemic in Portugal</MudText>
    <MudText Align="Align.Center">This is just an example page where we use an external REST API to get the updated numbers of the pandemic in Portugal.</MudText>
    <MudGrid Class="mt-8" Justify="Justify.Center">
        @if (IsLoading)
        {
            <Loading isVisible="IsLoading" />
        }
        else
        {
            <MudListItem>
                <MudText Typo="Typo.h6" Align="Align.Center" GutterBottom="true">Confirmados / Óbitos</MudText>
            </MudListItem>
            <MudListItem>
                @if (IndexPie > -1)
                {
                    <MudText Align="Align.Center" Typo="Typo.body2">@LabelsPie[IndexPie]: @DataPie[IndexPie]</MudText>
                }
                else
                {
                    <MudText Align="Align.Center" Typo="Typo.body2">Click on the chart to show its individual values.</MudText>
                }
            </MudListItem>
            <MudListItem>
                <MudChart ChartType="ChartType.Pie"
                      InputData="@DataPie"
                      InputLabels="@LabelsPie"
                      @bind-SelectedIndex="IndexPie"
                      Width="300px"
                      Height="300px" />
            </MudListItem>

            <MudListItem>
                <MudText Typo="Typo.h6" Align="Align.Center" GutterBottom="true">Confirmados por idade e sexo</MudText>
            </MudListItem>

            <MudListItem>
                <MudChart ChartType="ChartType.Bar"
                      ChartSeries="@SeriesBar1"
                      XAxisLabels="@XAxisLabelsBar1"
                      Width="100%"
                      Height="350px"
                      ChartOptions="Options1" />
            </MudListItem>

            <MudListItem>
                <MudText Typo="Typo.h6" Align="Align.Center" GutterBottom="true">Óbitos por idade e sexo</MudText>
            </MudListItem>

            <MudListItem>
                <MudChart ChartType="ChartType.Bar"
                      ChartSeries="@SeriesBar2"
                      XAxisLabels="@XAxisLabelsBar1"
                      Width="100%"
                      Height="350px"
                      ChartOptions="Options2" />
            </MudListItem>

            <MudListItem>
                <MudText Typo="Typo.h6" Align="Align.Center" GutterBottom="true">Confirmados/Óbitos por Região</MudText>
            </MudListItem>

            <MudListItem>
                <MudChart ChartType="ChartType.Bar"
                      ChartSeries="@SeriesBar3"
                      XAxisLabels="@XAxisLabelsBar3"
                      Width="100%"
                      Height="350px"
                      ChartOptions="Options3" />
            </MudListItem>
        }
    </MudGrid>
</MudContainer>
